# 插入第一条数据

要插入第一条数据，需要先确保有对应的**表（Table）**（数据要存在表里）。整个流程可以分为 3 步：**创建表** → **插入数据** → **验证数据**，结合你已学的  `database`  和  `schema`  知识，具体操作如下：

### 前提：准备环境

假设你已经：

1. 创建了数据库（比如  `mydb`），并连接到该数据库：

```sql
\c mydb;  -- psql 客户端切换数据库的命令
```

2. （可选）创建了模式（比如  `myschema`），并设置为默认模式（方便操作）：

```sql
CREATE SCHEMA IF NOT EXISTS myschema;
SET search_path TO myschema;  -- 后续操作默认使用这个模式
```

### 步骤 1：创建表（存放数据的结构）

数据必须放在表中，表需要定义**字段（列）**  和对应的数据类型。  
比如创建一个  `user`  表（存储用户信息），包含 3 个字段：

- `id`：整数，主键（唯一标识每条数据）
- `name`：字符串，用户名
- `age`：整数，年龄

```sql
-- 在当前模式（myschema）下创建 user 表
-- `IF NOT EXISTS` 意思名为 user 的表不存在则创建
-- 表名 为 双引号包裹 这样就不会被当做关键字了
CREATE TABLE IF NOT EXISTS "user" (
  id INT PRIMARY KEY,  -- 主键（非空且唯一）  字段名:id  类型:INT(整形)  约束条件 PRIMARY KEY 表示为主键不可以重复不能为空
  name VARCHAR(50) NOT NULL,  -- 字符串，最长50字符，不能为空  "张三" 是 2 个字符  "abc123" 是 6 个字符
  age INT  -- 整数，无约束 可为空（不填则为NULL）
);
```

#### 说明：

- 表名如果是  `user`  这类 PostgreSQL 关键字，需要用双引号  `"user"`  包裹。
- `PRIMARY KEY`  确保  `id`  唯一且非空，`NOT NULL`  强制  `name`  必须填写。

### 步骤 2：插入第一条数据

用  `INSERT INTO`  命令插入数据，语法：

```sql
INSERT INTO 表名 (字段1, 字段2, ...) VALUES (值1, 值2, ...);
```

#### 示例（插入一条用户数据）：

```sql
-- 向 user 表插入一条数据：id=1，name="张三"，age=25
INSERT INTO "user" (id, name, age) VALUES (1, '张三', 25);
```

#### 简化写法（如果按表中所有字段顺序插入，可省略字段名）：

```sql
INSERT INTO "user" VALUES (2, '李四', 30);  -- 按 id→name→age 的顺序
```

#### 注意：

- 字符串值（如  `'张三'`）必须用单引号包裹，数字（如  `1`、`25`）直接写。
- 字段和值的顺序、数量必须对应，数据类型要匹配（比如  `age`  不能填字符串）。

### 步骤 3：验证数据是否插入成功

用  `SELECT`  命令查询表中的数据：

```sql
-- 查询 user 表的所有数据
SELECT * FROM "user";
```

如果成功，会看到类似结果：

plaintext

```plaintext
 id | name  | age
----+-------+-----
  1 | 张三  |  25
  2 | 李四  |  30
(2 行记录)
```

### 总结：核心流程

1. 确保在正确的数据库和模式下操作；
2. 创建表（定义数据结构）；
3. 用  `INSERT INTO`  插入数据；
4. 用  `SELECT`  验证结果。

试试插入更多数据吧，比如：

```sql
INSERT INTO "user" (id, name) VALUES (3, '王五');  -- 不填 age，会默认 NULL
```
